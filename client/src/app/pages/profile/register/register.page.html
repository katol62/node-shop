<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button id="home" [routerLink]="['/']" routerDirection="back">
                <ion-icon slot="start" name="home-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>
            {{'PROFILE.register.title' | translate}}
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-grid>
        <ion-row class="ion-justify-content-center">
            <ion-col size="12" size-xl="5" size-lg="6" size-md="7" size-sm="8">
                <ion-card>
                    <ion-card-content>
                        <form [formGroup]="registerForm">
                            <ion-item *ngIf="!mobile || (mobile && state === 'phone')">
                                <div tabindex="0"></div>
                                <ion-label>{{'GLOBAL.labels.phone' | translate}}</ion-label>
                                <ion-input type="tel" #phoneInput formControlName="phone" placeholder="+7 (xxx) xxx-xxxx"></ion-input>
                            </ion-item>
                            <ion-item *ngIf="!mobile">
                                <div tabindex="0"></div>
                                <ion-label>{{'GLOBAL.labels.password' | translate}}</ion-label>
                                <ion-input type="password" formControlName="password" placeholder="{{'GLOBAL.labels.password' | translate}}"></ion-input>
                            </ion-item>
                            <ion-item *ngIf="!mobile">
                                <div tabindex="0"></div>
                                <ion-label>{{'GLOBAL.labels.confirm' | translate}}</ion-label>
                                <ion-input type="password" formControlName="confirmPassword" placeholder="{{'GLOBAL.labels.confirm' | translate}} {{'GLOBAL.labels.password' | translate}}"></ion-input>
                            </ion-item>
                            <ion-item>
                                <div tabindex="0"></div>
                                <ion-label>{{'GLOBAL.labels.firstName' | translate}}</ion-label>
                                <ion-input type="text" formControlName="firstName" placeholder="{{'GLOBAL.labels.firstName' | translate}}"></ion-input>
                            </ion-item>
                            <ion-item>
                                <div tabindex="0"></div>
                                <ion-label>{{'GLOBAL.labels.lastName' | translate}}</ion-label>
                                <ion-input type="text" formControlName="lastName" placeholder="{{'GLOBAL.labels.lastName' | translate}}"></ion-input>
                            </ion-item>
                            <ion-item>
                                <div tabindex="0"></div>
                                <ion-label>{{'GLOBAL.labels.email' | translate}}</ion-label>
                                <ion-input type="email" formControlName="email" placeholder="{{'GLOBAL.labels.email' | translate}}"></ion-input>
                            </ion-item>
                        </form>
                        <ng-container *ngIf="mobile && state === 'code'">
                            <div class="ion-text-center ion-padding">
                                <ion-text>{{'GLOBAL.labels.checkCode' | translate}}</ion-text>
                            </div>
                            <ion-item>
                                <div tabindex="0"></div>
                                <ion-label>{{'GLOBAL.labels.code' | translate}}</ion-label>
                                <ion-input type="number" [(ngModel)]="code" (ngModelChange)="processCode($event)" placeholder="{{'GLOBAL.labels.enter' | translate}} {{'GLOBAL.labels.code' | translate}}"></ion-input>
                            </ion-item>
                        </ng-container>
                        <div class="ion-text-center ion-margin-top">
                            <ion-button size="small" color="primary" (click)="signUp()" [disabled]="!registerForm.valid">
                                {{ !mobile || (mobile && state === 'phone') ? ('GLOBAL.labels.register' | translate) : ('GLOBAL.labels.next' | translate) }}
                            </ion-button>
                        </div>
                    </ion-card-content>
                </ion-card>
                <div class="ion-justify-content-center ion-text-center">
                    <ion-button  class="ion-justify-content-center" id="reg" [routerLink]="['/', profilePath, loginPath]" routerDirection="back">
                        {{'GLOBAL.labels.signIn' | translate}}
                    </ion-button>
                </div>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
